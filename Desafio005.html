<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UFT-8">
    <title>desafio008.html</title>

    <script>
        function main() {
            cnpj=prompt("entre um CNPJ: ");
            cnpj1="";
            n=5;
            soma=0;
            for(i=0;i<cnpj.length;i++) {
                if(i==cnpj.length-1) {
                    cnpj1+=cnpj[i];
                }
                else {
                    cnpj1+=cnpj[i]+" - ";
                }
                if(i<12) {
                    if((n-i)==1) {
                        n=13;
                    }
                    soma+= (n-i)*parseInt(cnpj[i]);
                }

            }
            dv1=11-(soma%11);
            if(dv1>9) {
                dv1=0;
            }

            console.log(cnpj);
            console.log(cnpj1);
            console.log(soma);
            console.log(dv1);
            if(parseInt(cnpj[12])!=dv1) {
                alert("cnpj inválido");
            }
            else{
                soma=0
                n=6;
                for(i=0;i<cnpj.length;i++) {
                    if(i<13) {
                        if((n-i)==1) {
                            n=14;
                        }
                        soma+= (n-i)*parseInt(cnpj[i]);
                    }

                }

            }
            console.log(soma);
            dv2=11-(soma%11);
            if(dv2>9) {
                dv2=0;
            }

            if(dv2!=parseInt(cnpj[13])) {
                alert("cnpj inválido!");
            }
            else {
                alert("cnpj válido!");
            }
        }
    </script>
</head>
<body onload="main()">

</body>
</html>

